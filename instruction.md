# Инструкция к использованию
---

## Добавление новой камеры
---
  - Создать новый лист в файле dataBase.xlsx назвав его по имени камеры
  - В первой ячейке первой строки поставить 0
  - В файле Cameras.xlsx в лист адреса камеры в первый столбец первой свободной строки написать название камеры (точно также как и в dataBase.xlsx)
  - Если листа нет, предворительно его создать
  - Во второй столбец этой же строки вставить URL стрима камеры
  - Не забыть все сохранить
  - И особенно важно чтобы название камеры точно совпадало с названием сита камеры в файле dataBase.xlsx
---
## Вход в панель управления
---
  - Для входа в панель управления зайдите на сайт (https://server50.hosting.reg.ru:1500/)
  - Логин: u2583720
  - Пароль: mW8lcI2wGS9HCjF0
---
## Первый этап лечения - перезапустить
---
  - Удвлить файл nohup.out в корневой папке хоста
  - В Shell строку вбить команду pkill -f bot.py для завершения работы бота
  - В Shell строку вбить команду nohup bash init.sh для запуска бота
---
## Работа с файлами на хосте
---
  Все файлы базы данных находятся в (/www/Parking/RunningYOLO/) и их нельзя редактировать на самом хосте поэтому:
  - Скачать файл
  - Изменить
  - Вставить обратно, замевив
---
## Обнуление базы данных через бота
---
  - Обратится к адресу, базу данного которого нужно обнулить, написав его
  - Написать боту dalata dete
---
## О Roboflow
---
      Roboflow выполняет функцию системы контроля версии датасета и нейросети. На этом сайте создан проект, открытый к просмотру, но
    для редактирования нужно зарегестрироваться и получить права на редактирования от владельца проекта. Для этого:
      - Зайти на сайт (https://roboflow.com) и зарегестрироваться
      Со стороны держателя проекта:
      - 
---
## Дополнение датасета
---
  - Зайти на хост и скачать фотографии из папки (/www/Parking/generateDataset/imgbase/)
  - Удалить их с хоста
  - Зайти на сайт (https://app.roboflow.com/parkingai-cyfy5/parking-utku6/)
  - В вкладке (Upload data) вставить фото в центральное окно
  - Сохранить (Синяя кнопка справой стороны окна)
  - Перейти во вкладку (Annotate)
  - Выбрать функцию автоматической анатации
  - Подтвердить новоразмеченные фотографиии
  - Во вкладке (Versions) создть новую версию датасета
---
## Обучение нейросети
---
  - Открыть Google colab / Anaconda ну или еще что-то подобное
  - Последовательно выполнить строки
---
    !nvidia-smi
---
    import os
    HOME = os.getcwd()
    print(HOME)
---
    !pip install ultralytics==8.2.103 -q
    from IPython import display
    display.clear_output()
    import ultralytics
    ultralytics.checks()
---
    from ultralytics import YOLO
    from IPython.display import display, Image
---
### Вставить код подкачки последней версии датасета
  - зайти на (https://app.roboflow.com/parkingai-cyfy5/parking-utku6/)
  - Во вкладке (Versions) (Download dataset)
---
    %cd {HOME}
    !yolo task=detect mode=train model=yolov8s.pt data={dataset.location}/data.yaml epochs=25 imgsz=640 plots=True
---
    project.version(dataset.version).deploy(model_type="yolov8", model_path=f"{HOME}/runs/detect/train/")
---













